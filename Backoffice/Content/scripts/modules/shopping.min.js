define(["jquery","pubsub","bootstrap","extensions"],function(n){var i={bind:function(i){var r=n(i);r.on("click",'[data-role="item.addtoorder"]',function(){var i=t.formatItem(r.serializeObject());i.Type="Order";n("body").trigger("item.addtoorder",i)});r.on("click",'[data-role="item.addtoautoorder"]',function(){var i=t.formatItem(r.serializeObject());i.Type="AutoOrder";n("body").trigger("item.addtoautoorder",i)});r.on("click",'[data-role="item.customizedynamickit"]',function(){var n=t.formatItem(r.serializeObject());r.find(".modal").modal("show")});r.on("change",'[data-role="cart.updateitemquantity"]',function(){var i=t.formatItem({ID:n(this).data("id"),Type:n(this).data("type"),Quantity:n(this).val()});n("body").trigger(n(this).data("role"),i)});r.on("click",'[data-role="cart.removeitemfromcart"]',function(){n("body").trigger(n(this).data("role"),n(this).data("id"))})}},t={formatItem:function(n){return n.Quantity=n.Quantity||0,n.Quantity=isNaN(n.Quantity)?0:parseFloat(n.Quantity),n}};return i});