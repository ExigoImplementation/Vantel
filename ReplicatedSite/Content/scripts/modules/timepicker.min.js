define(["jquery"],function(n){
/*!
 * jquery-timepicker v1.11.15 - A jQuery timepicker plugin inspired by Google Calendar. It supports both mouse and keyboard navigation.
 * Copyright (c) 2015 Jon Thornton - http://jonthornton.github.com/jquery-timepicker/
 * License: MIT
 */
n(function(n){function e(n){var t=n[0];return t.offsetWidth>0&&t.offsetHeight>0}function d(t){var u,r;if(t.minTime&&(t.minTime=i(t.minTime)),t.maxTime&&(t.maxTime=i(t.maxTime)),t.durationTime&&typeof t.durationTime!="function"&&(t.durationTime=i(t.durationTime)),t.scrollDefault=="now"?t.scrollDefault=function(){return t.roundingFunction(i(new Date),t)}:t.scrollDefault&&typeof t.scrollDefault!="function"?(u=t.scrollDefault,t.scrollDefault=function(){return t.roundingFunction(i(u),t)}):t.minTime&&(t.scrollDefault=function(){return t.roundingFunction(t.minTime,t)}),n.type(t.timeFormat)==="string"&&t.timeFormat.match(/[gh]/)&&(t._twelveHourTime=!0),t.showOnFocus===!1&&t.showOn.indexOf("focus")!=-1&&t.showOn.splice(t.showOn.indexOf("focus"),1),t.disableTimeRanges.length>0){for(r in t.disableTimeRanges)t.disableTimeRanges[r]=[i(t.disableTimeRanges[r][0]),i(t.disableTimeRanges[r][1])];for(t.disableTimeRanges=t.disableTimeRanges.sort(function(n,t){return n[0]-t[0]}),r=t.disableTimeRanges.length-1;r>0;r--)t.disableTimeRanges[r][0]<=t.disableTimeRanges[r-1][1]&&(t.disableTimeRanges[r-1]=[Math.min(t.disableTimeRanges[r][0],t.disableTimeRanges[r-1][0]),Math.max(t.disableTimeRanges[r][1],t.disableTimeRanges[r-1][1])],t.disableTimeRanges.splice(r,1))}return t}function l(t){var e=t.data("timepicker-settings"),s=t.data("timepicker-list"),l,it,lt,ut,ft,k,v,st,w,et,c,ht,ct,p;if(s&&s.length&&(s.remove(),t.data("timepicker-list",!1)),e.useSelect?(s=n("<select />",{"class":"ui-timepicker-select"}),t.attr("name")&&s.attr("name","ui-timepicker-"+t.attr("name")),l=s):(s=n("<ul />",{"class":"ui-timepicker-list"}),l=n("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1}),l.css({display:"none",position:"absolute"}).append(s)),e.noneOption)if(e.noneOption===!0&&(e.noneOption=e.useSelect?"Time...":"None"),n.isArray(e.noneOption))for(v in e.noneOption)parseInt(v,10)==v&&(it=g(e.noneOption[v],e.useSelect),s.append(it));else it=g(e.noneOption,e.useSelect),s.append(it);e.className&&l.addClass(e.className);(e.minTime!==null||e.durationTime!==null)&&e.showDuration&&(lt=typeof e.step=="function"?"function":e.step,l.addClass("ui-timepicker-with-duration"),l.addClass("ui-timepicker-step-"+e.step));ut=e.minTime;typeof e.durationTime=="function"?ut=i(e.durationTime()):e.durationTime!==null&&(ut=e.durationTime);ft=e.minTime!==null?e.minTime:0;k=e.maxTime!==null?e.maxTime:ft+r-1;k<ft&&(k+=r);k===r-1&&n.type(e.timeFormat)==="string"&&e.show2400&&(k=r);var tt=e.disableTimeRanges,d=0,at=tt.length,ot=e.step;for(typeof ot!="function"&&(ot=function(){return e.step}),v=ft,st=0;v<=k;st++,v+=ot(st)*60)w=v,et=h(w,e),e.useSelect?(c=n("<option />",{value:et}),c.text(et)):(c=n("<li />"),c.addClass(w%r<r/2?"ui-timepicker-am":"ui-timepicker-pm"),c.data("time",nt(w,e)),c.text(et)),(e.minTime!==null||e.durationTime!==null)&&e.showDuration&&(ht=rt(v-ut,e.step),e.useSelect?c.text(c.text()+" ("+ht+")"):(ct=n("<span />",{"class":"ui-timepicker-duration"}),ct.text(" ("+ht+")"),c.append(ct))),d<at&&(w>=tt[d][1]&&(d+=1),tt[d]&&w>=tt[d][0]&&w<tt[d][1]&&(e.useSelect?c.prop("disabled",!0):c.addClass("ui-timepicker-disabled"))),s.append(c);if(l.data("timepicker-input",t),t.data("timepicker-list",l),e.useSelect){t.val()&&s.val(a(i(t.val()),e));s.on("focus",function(){n(this).data("timepicker-input").trigger("showTimepicker")});s.on("blur",function(){n(this).data("timepicker-input").trigger("hideTimepicker")});s.on("change",function(){f(t,n(this).val(),"select")});f(t,s.val(),"initial");t.hide().after(s)}else{p=e.appendTo;typeof p=="string"?p=n(p):typeof p=="function"&&(p=p(t));p.append(l);o(t,s);s.on("mousedown click","li",function(){t.off("focus.timepicker");t.on("focus.timepicker-ie-hack",function(){t.off("focus.timepicker-ie-hack");t.on("focus.timepicker",u.show)});if(y(t)||t[0].focus(),s.find("li").removeClass("ui-timepicker-selected"),n(this).addClass("ui-timepicker-selected"),b(t)){t.trigger("hideTimepicker");s.on("mouseup.timepicker click.timepicker","li",function(){s.off("mouseup.timepicker click.timepicker");l.hide()})}})}}function g(t,i){var r,f,u;return typeof t=="object"?(r=t.label,f=t.className,u=t.value):typeof t=="string"?(r=t,u=""):n.error("Invalid noneOption value"),i?n("<option />",{value:u,"class":f,text:r}):n("<li />",{"class":f,text:r}).data("time",String(u))}function a(n,t){return n=t.roundingFunction(n,t),n!==null?h(n,t):void 0}function v(t){if(t.target!=window){var i=n(t.target);i.closest(".ui-timepicker-input").length||i.closest(".ui-timepicker-wrapper").length||(u.hide(),n(document).unbind(".ui-timepicker"),n(window).unbind(".ui-timepicker"))}}function y(n){var t=n.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&t.disableTouchKeyboard}function p(t,i,r){if(!r&&r!==0)return!1;var u=t.data("timepicker-settings"),f=!1,r=u.roundingFunction(r,u);return i.find("li").each(function(t,i){var u=n(i);if(typeof u.data("time")=="number")return u.data("time")==r?(f=u,!1):void 0}),f}function o(n,t){var f,u,r,e;(t.find("li").removeClass("ui-timepicker-selected"),f=n.data("timepicker-settings"),u=i(c(n),f),u!==null)&&(r=p(n,t,u),r&&(e=r.offset().top-t.offset().top,(e+r.outerHeight()>t.outerHeight()||e<0)&&t.scrollTop(t.scrollTop()+r.position().top-r.outerHeight()),(f.forceRoundTime||r.data("time")===u)&&r.addClass("ui-timepicker-selected")))}function s(t,r){var o,u,e,s,c,l;if(r!="timepicker"){if(o=n(this),this.value===""){f(o,null,r);return}if(!o.is(":focus")||t&&t.type=="change"){if(u=o.data("timepicker-settings"),e=i(this.value,u),e===null){o.trigger("timeFormatError");return}s=!1;u.minTime!==null&&u.maxTime!==null&&(e<u.minTime||e>u.maxTime)&&(s=!0);n.each(u.disableTimeRanges,function(){if(e>=this[0]&&e<this[1])return s=!0,!1});u.forceRoundTime&&(c=u.roundingFunction(e,u),c!=e&&(e=c,r=null));l=h(e,u);s?(f(o,l,"error")||t&&t.type=="change")&&o.trigger("timeRangeError"):f(o,l,r)}}}function c(n){return n.is("input")?n.val():n.data("ui-timepicker-value")}function f(n,t,r){if(n.is("input")){n.val(t);var u=n.data("timepicker-settings");u.useSelect&&r!="select"&&n.data("timepicker-list")&&n.data("timepicker-list").val(a(i(t),u))}return n.data("ui-timepicker-value")!=t?(n.data("ui-timepicker-value",t),r=="select"?n.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):["error","initial"].indexOf(r)==-1&&n.trigger("changeTime"),!0):(["error","initial"].indexOf(r)==-1&&n.trigger("selectTime"),!1)}function tt(n){switch(n.keyCode){case 13:case 9:return;default:n.preventDefault()}}function it(t){var f=n(this),r=f.data("timepicker-list"),i;if(!r||!e(r))if(t.keyCode==40)u.show.call(f.get(0)),r=f.data("timepicker-list"),y(f)||f.focus();else return!0;switch(t.keyCode){case 13:return b(f)&&(s.call(f.get(0),{type:"change"}),u.hide.apply(this)),t.preventDefault(),!1;case 38:return i=r.find(".ui-timepicker-selected"),i.length?i.is(":first-child")||(i.removeClass("ui-timepicker-selected"),i.prev().addClass("ui-timepicker-selected"),i.prev().position().top<i.outerHeight()&&r.scrollTop(r.scrollTop()-i.outerHeight())):(r.find("li").each(function(t,r){if(n(r).position().top>0)return i=n(r),!1}),i.addClass("ui-timepicker-selected")),!1;case 40:return i=r.find(".ui-timepicker-selected"),i.length===0?(r.find("li").each(function(t,r){if(n(r).position().top>0)return i=n(r),!1}),i.addClass("ui-timepicker-selected")):i.is(":last-child")||(i.removeClass("ui-timepicker-selected"),i.next().addClass("ui-timepicker-selected"),i.next().position().top+2*i.outerHeight()>r.outerHeight()&&r.scrollTop(r.scrollTop()+i.outerHeight())),!1;case 27:r.find("li").removeClass("ui-timepicker-selected");u.hide();break;case 9:u.hide();break;default:return!0}}function w(t){var r=n(this),i=r.data("timepicker-list"),u=r.data("timepicker-settings");if(!i||!e(i)||u.disableTextInput)return!0;if(t.type==="paste"||t.type==="cut"){setTimeout(function(){u.typeaheadHighlight?o(r,i):i.hide()},0);return}switch(t.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:u.typeaheadHighlight?o(r,i):i.hide()}}function b(n){var r=n.data("timepicker-settings"),u=n.data("timepicker-list"),t=null,i=u.find(".ui-timepicker-selected");return i.hasClass("ui-timepicker-disabled")?!1:(i.length&&(t=i.data("time")),t!==null&&(typeof t!="string"&&(t=h(t,r)),f(n,t,"select")),!0)}function rt(n,i){n=Math.abs(n);var u=Math.round(n/60),r=[],f,e;return u<60?r=[u,t.mins]:(f=Math.floor(u/60),e=u%60,i==30&&e==30&&(f+=t.decimal+5),r.push(f),r.push(f==1?t.hr:t.hrs),i!=30&&e&&(r.push(e),r.push(t.mins))),r.join(" ")}function h(i,u){var e,f,l,s,c;if(typeof i!="number")return null;var h=parseInt(i%60),c=parseInt(i/60%60),a=parseInt(i/3600%24),o=new Date(1970,0,2,a,c,h,0);if(isNaN(o.getTime()))return null;if(n.type(u.timeFormat)==="function")return u.timeFormat(o);for(e="",s=0;s<u.timeFormat.length;s++){l=u.timeFormat.charAt(s);switch(l){case"a":e+=o.getHours()>11?t.pm:t.am;break;case"A":e+=o.getHours()>11?t.PM:t.AM;break;case"g":f=o.getHours()%12;e+=f===0?"12":f;break;case"G":f=o.getHours();i===r&&(f=u.show2400?24:0);e+=f;break;case"h":f=o.getHours()%12;f!==0&&f<10&&(f="0"+f);e+=f===0?"12":f;break;case"H":f=o.getHours();i===r&&(f=u.show2400?24:0);e+=f>9?f:"0"+f;break;case"i":c=o.getMinutes();e+=c>9?c:"0"+c;break;case"s":h=o.getSeconds();e+=h>9?h:"0"+h;break;case"\\":s++;e+=u.timeFormat.charAt(s);break;default:e+=l}}return e}function i(n,i){var h,y,e,c;if(n===""||n===null)return null;if(typeof n=="object")return n.getHours()*3600+n.getMinutes()*60+n.getSeconds();if(typeof n!="string")return n;n=n.toLowerCase().replace(/[\s\.]/g,"");(n.slice(-1)=="a"||n.slice(-1)=="p")&&(n+="m");var l="("+t.am.replace(".","")+"|"+t.pm.replace(".","")+"|"+t.AM.replace(".","")+"|"+t.PM.replace(".","")+")?",p=new RegExp("^"+l+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+l+"$"),f=n.match(p);if(!f)return null;var u=parseInt(f[2]*1,10),o=f[1]||f[5],s=u,a=f[3]*1||0,v=f[4]*1||0;if(u<=12&&o)h=o==t.pm||o==t.PM,s=u==12?h?12:0:u+(h?12:0);else if(i&&(y=u*3600+a*60+v,y>=r+(i.show2400?1:0))){if(i.wrapHours===!1)return null;s=u%24}return e=s*3600+a*60+v,u<12&&!o&&i&&i._twelveHourTime&&i.scrollDefault&&(c=e-i.scrollDefault(),c<0&&c>=r/-2&&(e=(e+r/2)%r)),e}function nt(n,t){return n==r&&t.show2400?n:n%r}var r=86400,t={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},k={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(n,t){if(n===null)return null;if(typeof t.step!="number")return n;var i=n%(t.step*60),r=t.minTime||0;return i-=r%(t.step*60),i>=t.step*30?n+=t.step*60-i:n-=i,nt(n,t)},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0},u={init:function(i){return this.each(function(){var r=n(this),o=[],e,f,h;for(e in k)r.data(e)&&(o[e]=r.data(e));if(f=n.extend({},k,i,o),f.lang&&(t=n.extend(t,f.lang)),f=d(f),r.data("timepicker-settings",f),r.addClass("ui-timepicker-input"),f.useSelect)l(r);else{if(r.prop("autocomplete","off"),f.showOn)for(h in f.showOn)r.on(f.showOn[h]+".timepicker",u.show);r.on("change.timepicker",s);r.on("keydown.timepicker",it);r.on("keyup.timepicker",w);if(f.disableTextInput)r.on("keydown.timepicker",tt);r.on("cut.timepicker",w);r.on("paste.timepicker",w);s.call(r.get(0),null,"initial")}})},show:function(t){var f=n(this),h=f.data("timepicker-settings"),r,a,b,s,w,k;if(t&&t.preventDefault(),h.useSelect){f.data("timepicker-list").focus();return}if((y(f)&&f.blur(),r=f.data("timepicker-list"),!f.prop("readonly"))&&(r&&r.length!==0&&typeof h.durationTime!="function"||(l(f),r=f.data("timepicker-list")),!e(r))){if(f.data("ui-timepicker-value",f.val()),o(f,r),u.hide(),r.show(),a={},a.left=h.orientation.match(/r/)?f.offset().left+f.outerWidth()-r.outerWidth()+parseInt(r.css("marginLeft").replace("px",""),10):f.offset().left+parseInt(r.css("marginLeft").replace("px",""),10),b=h.orientation.match(/t/)?"t":h.orientation.match(/b/)?"b":f.offset().top+f.outerHeight(!0)+r.outerHeight()>n(window).height()+n(window).scrollTop()?"t":"b",b=="t"?(r.addClass("ui-timepicker-positioned-top"),a.top=f.offset().top-r.outerHeight()+parseInt(r.css("marginTop").replace("px",""),10)):(r.removeClass("ui-timepicker-positioned-top"),a.top=f.offset().top+f.outerHeight()+parseInt(r.css("marginTop").replace("px",""),10)),r.offset(a),s=r.find(".ui-timepicker-selected"),s.length||(w=i(c(f)),w!==null?s=p(f,r,w):h.scrollDefault&&(s=p(f,r,h.scrollDefault()))),(!s.length||s.hasClass("ui-timepicker-disabled"))&&(s=r.find("li:not(.ui-timepicker-disabled):first")),s&&s.length?(k=r.scrollTop()+s.position().top-s.outerHeight(),r.scrollTop(k)):r.scrollTop(0),h.stopScrollPropagation)n(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(t){t.preventDefault();var i=n(this).scrollTop();n(this).scrollTop(i+t.originalEvent.deltaY)});n(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",v);n(window).on("resize.ui-timepicker",v);if(h.closeOnWindowScroll)n(document).on("scroll.ui-timepicker",v);return f.trigger("showTimepicker"),this}},hide:function(){var t=n(this),i=t.data("timepicker-settings");return i&&i.useSelect&&t.blur(),n(".ui-timepicker-wrapper").each(function(){var i=n(this),t,r;e(i)&&(t=i.data("timepicker-input"),r=t.data("timepicker-settings"),r&&r.selectOnBlur&&b(t),i.hide(),t.trigger("hideTimepicker"))}),this},option:function(t,i){return typeof t=="string"&&typeof i=="undefined"?n(this).data("timepicker-settings")[t]:this.each(function(){var u=n(this),r=u.data("timepicker-settings"),f=u.data("timepicker-list");typeof t=="object"?r=n.extend(r,t):typeof t=="string"&&(r[t]=i);r=d(r);u.data("timepicker-settings",r);s.call(u.get(0),{type:"change"},"initial");f&&(f.remove(),u.data("timepicker-list",!1));r.useSelect&&l(u)})},getSecondsFromMidnight:function(){return i(c(this))},getTime:function(n){var f=this,u=c(f),r,t;return u?(r=i(u),r===null)?null:(n||(n=new Date),t=new Date(n),t.setHours(r/3600),t.setMinutes(r%3600/60),t.setSeconds(r%60),t.setMilliseconds(0),t):null},isVisible:function(){var t=this,n=t.data("timepicker-list");return!!(n&&e(n))},setTime:function(n){var t=this,r=t.data("timepicker-settings"),u;return u=r.forceRoundTime?a(i(n),r):h(i(n),r),n&&u===null&&r.noneOption&&(u=n),f(t,u,"initial"),s.call(t.get(0),{type:"change"},"initial"),t.data("timepicker-list")&&o(t,t.data("timepicker-list")),this},remove:function(){var n=this,t;if(n.hasClass("ui-timepicker-input"))return t=n.data("timepicker-settings"),n.removeAttr("autocomplete","off"),n.removeClass("ui-timepicker-input"),n.removeData("timepicker-settings"),n.off(".timepicker"),n.data("timepicker-list")&&n.data("timepicker-list").remove(),t.useSelect&&n.show(),n.removeData("timepicker-list"),this}};n.fn.timepicker=function(t){if(!this.length)return this;if(u[t])return this.hasClass("ui-timepicker-input")?u[t].apply(this,Array.prototype.slice.call(arguments,1)):this;if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.timepicker");else return u.init.apply(this,arguments)}})});